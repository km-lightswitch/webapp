<html>

<head>
	<style>
		#dxy {
			width: 100px;
			height: 20px;
			background: red;
			display: inline-block;
			position: absolute;
			cursor: pointer;
		}
		
		#start,
		#end {
			display: inline-block;
			width: 10px;
			height: 20px;
			background: blue;
			position: absolute;
			cursor: ew-resize;
		}
	</style>
</head>

<body>
	<div id="start"></div>
	<div id="dxy"></div>
	<div id="end"></div>

	<script type="text/javascript">
		var x = 0;
	var width = 100;
	var handleWidth = 10;
	var left = 0;
	var handle;
	
	function setLeft(left){
		var start= document.getElementById('start')
		start.style.left = left + 'px';
		var div = document.getElementById('dxy');
		div.style.left = handleWidth + left + 'px';
		document.getElementById('end').style.left = left + handleWidth + width + 'px';
	}
	
		function addListeners(){
    document.getElementById('start').addEventListener('mousedown', mouseDown, false);
    document.getElementById('end').addEventListener('mousedown', mouseDown, false);
    document.getElementById('dxy').addEventListener('mousedown', mouseDown, false);
    window.addEventListener('mouseup', mouseUp, false);
	}
		
function mouseUp(){
    window.removeEventListener('mousemove', divMove, true);
}

function mouseDown(e){
	handle = e.target;
	x = e.clientX;
  window.addEventListener('mousemove', divMove, true);
}
function divMove(e){
    var div = document.getElementById('dxy');
	delta = (e.clientX -x );
	x = e.clientX;
	
	if(handle.id === 'dxy'){
		left += delta;
		setLeft(left);
	}
	
	if(handle.id === 'end'){
		if(width + delta >10 ){
	width += delta;
  div.style.width =  width + 'px';
  setLeft(left);
		}
	}
	
	 if(handle.id === 'start'){
		if(width -delta > 10){
		left += delta;
		width -= delta;
    div.style.width = width + 'px';
	setLeft(left);
		}
	}
}
setLeft(0);
addListeners();
	</script>
</body>

</html>