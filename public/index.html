<!DOCTYPE html>
<html ng-app="lightswitch">

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

	<script src="lib/jquery/dist/jquery.min.js" type="text/javascript"></script>
	<script src="lib/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>

	<script src="bundle.js" type="text/javascript"></script>

	<link href="lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />

	<link href="bundle.css" rel="stylesheet" />
</head>

<body>
	<nav class="navbar navbar-default">
		<div class="container-fluid">
			<div class="navbar-header">
				<a class="navbar-brand" href="#">Lightswitch</a>
			</div>
			<div class="login-status" ng-controller="UserController as userController">
				<a class="user-name">
					{{ userController.user.name }}
				</a>
				<img ng-src="{{userController.user.picture}}" class="user-pic" />
			</div>
		</div>

	</nav>
	<div ng-controller="InstancesController as instancesController" class="container">
		<div class="organizations col-sm-3 col-sm-offset-9 text-right">
			<strong>Organization:</strong>
			<select ng-model="instancesController.currentOrganization" class="form-control select">
				<option ng-repeat="organization in instancesController.organizations" value="{{ organization.organizationId }}">
					{{ organization.name }}
				</option>
			</select>
		</div>
		<table class="table table-striped col-sm-10">
			<tr class="table-header">
				<th class="col-sm-1">
					<input type="checkbox" ng-model="instancesController.selectAll" class="checkbox" ng-click="instancesController.toggleSelection()"
					/>
				</th>
				<th>Instance ID</th>
				<th>Name</th>
				<th class="col-sm-1">State</th>
			</tr>
			<tr ng-repeat="instance in instancesController.instances | filter: instancesController.currentOrganization ">
				<td class="col-sm-1">
					<input type="checkbox" class="checkbox" ng-model="instance.isSelected" />
				</td>
				<td>{{ instance.InstanceId }}</td>
				<td>{{ instance.Tags.Name }}</td>
				<td class="col-sm-1 status {{ instance.State }}">{{ instance.State }}</td>
			</tr>
		</table>
		<div class="instance-actions col-sm-2 col-sm-offset-10 text-right">
			<a class="btn btn-danger btn-stop" ng-click="instancesController.stop()">Stop</a>
			<a class="btn btn-primary btn-start" ng-click="instancesController.start()">Start</a>
		</div>
	</div>
</body>

</html>